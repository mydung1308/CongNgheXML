<?xml version="1.0" encoding="UTF-8"?>
<xs:schema version="1.0"
           xmlns:xs="http://www.w3.org/2001/XMLSchema"
           targetNamespace="http://www.w3schools.com"
           xmlns="http://www.w3schools.com"
           elementFormDefault="qualified">

    <xs:element name="catalog">
        <xs:complexType>
            <xs:sequence>
                <!-- Danh má»¥c -->
                <xs:element name="categories">
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="category" maxOccurs="unbounded">
                                <xs:complexType mixed="true"> <!-- Pháº§n tá»­ cÃ³ thá»ƒ chá»©a vÄƒn báº£n vÃ  pháº§n tá»­ con/thuá»™c tÃ­nh cÃ¹ng lÃºc.-->
                                    <xs:attribute name="id" type="xs:string" use="required"/>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>

                <!-- Sáº£n pháº©m -->
                <xs:element name="products">
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="product" maxOccurs="unbounded">
                                <xs:complexType>
                                    <xs:sequence>
                                        <xs:element name="name" type="xs:string"/>
                                        <xs:element name="price">
                                            <xs:complexType mixed="true"> 
                                                <xs:attribute name="currency" type="xs:string" use="required"/>
                                            </xs:complexType>
                                        </xs:element>
                                        <xs:element name="stock" type="xs:integer"/>
                                    </xs:sequence>
                                    <xs:attribute name="id" type="xs:string" use="required"/>
                                    <xs:attribute name="categoryRef" type="xs:string" use="required"/>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
            </xs:sequence>
        </xs:complexType>

        <!-- ðŸ”‘ KhÃ³a chÃ­nh cho category -->
        <xs:key name="categoryKey">
            <xs:selector xpath="categories/category"/>
            <xs:field xpath="@id"/> <!--@id = khi id lÃ  thuá»™c tÃ­nh.|id = khi id lÃ  pháº§n tá»­ con. -->
        </xs:key>

        <!-- ðŸ”‘ KhÃ³a chÃ­nh cho product -->
        <xs:key name="productKey">
            <xs:selector xpath="products/product"/>
            <xs:field xpath="@id"/>
        </xs:key>

        <!-- ðŸ”— KhÃ³a ngoáº¡i: product.categoryRef -> category.id -->
        <xs:keyref name="productCategoryRef" refer="categoryKey">
            <xs:selector xpath="products/product"/> 
            <xs:field xpath="@categoryRef"/>
        </xs:keyref>

    </xs:element>
</xs:schema>
